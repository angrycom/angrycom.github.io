{"version":3,"sources":["webpack:///./src/components/Form/Input.jsx","webpack:///./src/components/Form/Select.jsx","webpack:///./src/components/Shop/ShopForm.jsx","webpack:///./src/components/Shop/index.jsx","webpack:///./src/pages/goods/sticker/buy.jsx"],"names":["InputWrap","fieldName","children","className","style","wrap","Input","onChange","state","checker","value","props","useState","message","setMessage","func","e","target","input","filter","Boolean","join","color","Select","select","checkers","name","match","phone","amount","i","Ordered","tag","text","data","predict","ShopForm","email","grade","schoolClass","onSubmit","check","preventDefault","v","length","a","Firebase","orderSticker","alert","replace","type","min","step","map","key","Button","primary","reactive","right","Shop","productName","productImage","Section","Title","card","src","alt","marginTop","title","angry"],"mappings":"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","file":"component---src-pages-goods-sticker-buy-jsx-8584e0d42e035b645293.js","sourcesContent":["import React, { useState } from \"react\"\r\nimport style from \"./Input.module.css\"\r\n\r\nexport const InputWrap = ({ fieldName, children }) => {\r\n  return (\r\n    <div className={style.wrap}>\r\n      <label>\r\n        <div className={style.fieldName}>{fieldName}</div>\r\n        {children}\r\n      </label>\r\n    </div>\r\n  )\r\n}\r\nconst Input = ({\r\n  fieldName,\r\n  className,\r\n  onChange,\r\n  state,\r\n  checker,\r\n  value,\r\n  ...props\r\n}) => {\r\n  const [message, setMessage] = useState(null)\r\n\r\n  let func = e => {\r\n    state && state[1](e.target.value)\r\n\r\n    if (checker) {\r\n      setMessage(checker(e.target.value))\r\n    }\r\n  }\r\n\r\n  function changed(e) {\r\n    func(e)\r\n    return onChange && onChange(e)\r\n  }\r\n  return (\r\n    <InputWrap fieldName={fieldName}>\r\n      <input\r\n        value={state ? state[0] : value}\r\n        className={[style.input, className].filter(Boolean).join(\" \")}\r\n        onChange={changed}\r\n        {...props}\r\n      />\r\n      {message && message[1] && (\r\n        <div\r\n          style={{\r\n            color: message[0] ? \"green\" : \"red\",\r\n          }}\r\n        >\r\n          {message[1]}\r\n        </div>\r\n      )}\r\n    </InputWrap>\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import React from \"react\"\r\nimport { InputWrap } from \"./Input\"\r\n\r\nimport style from \"./Select.module.css\"\r\nconst Select = ({ fieldName, children, state }) => {\r\n  return (\r\n    <InputWrap fieldName={fieldName}>\r\n      <select\r\n        className={style.select}\r\n        value={state && state[0]}\r\n        onChange={e => {\r\n          state && state[1](e.target.value)\r\n        }}\r\n      >\r\n        {children}\r\n      </select>\r\n    </InputWrap>\r\n  )\r\n}\r\n\r\nexport default Select\r\n","import React, { useState } from \"react\"\r\nimport Input from \"../Form/Input\"\r\nimport Button from \"../Form/Button\"\r\nimport Select from \"../Form/Select\"\r\n\r\nimport { replace } from \"gatsby\"\r\nimport Ordered from \"../BuyStickerSection/Ordered\"\r\nconst checkers = {\r\n  name(name) {\r\n    if (name.match(/^([가-힣]{2,4})$/)) {\r\n      return [true]\r\n    }\r\n    return [false, \"이름은 한글 2~4글자여야 합니다.\"]\r\n  },\r\n  phone(phone) {\r\n    if (phone.match(/^[0-9]{11}$/)) {\r\n      return [true]\r\n    }\r\n    return [false, \"전화번호는 11글자 이상의 숫자여야 합니다. (하이픈 없음)\"]\r\n  },\r\n  amount(i) {\r\n    if (i < 10) {\r\n      return [false, \"10개 이상 주문하셔야 합니다.\"]\r\n    }\r\n    if (i % 10 !== 0) return [false, \"10개 단위로 주문하셔야 합니다.\"]\r\n    return [\r\n      true,\r\n      <>\r\n        예상 금액: {i * 30}₩ ~ {i * 120}₩ (현 기준{\" \"}\r\n        <Ordered tag=\"span\" text={data => data.predict * i + \"₩\"}></Ordered> )\r\n      </>,\r\n    ]\r\n  },\r\n}\r\nconst ShopForm = () => {\r\n  const name = useState(\"\")\r\n  const phone = useState(\"\")\r\n  const email = useState(\"\")\r\n  const amount = useState(10)\r\n  const grade = useState(1)\r\n  const schoolClass = useState(1)\r\n\r\n  function onsubmit(e) {\r\n    e.preventDefault()\r\n\r\n    function check(check, value) {\r\n      return checkers[check](value[0])[0]\r\n    }\r\n\r\n    const checkForm =\r\n      [\r\n        check(\"name\", name),\r\n        check(\"phone\", phone),\r\n        check(\"amount\", amount),\r\n      ].filter(v => v === false).length === 0\r\n    if (!checkForm) {\r\n      alert(\"폼을 다시 확인해주세요.\")\r\n      return\r\n    }\r\n    ;(async () => {\r\n      const Firebase = await import(\"../../lib/Firebase\")\r\n      await Firebase.orderSticker({\r\n        name: name[0],\r\n        phone: phone[0],\r\n        email: email[0],\r\n        amount: amount[0],\r\n        grade: grade[0],\r\n        schoolClass: schoolClass[0],\r\n      })\r\n\r\n      alert(\"주문이 완료되었습니다.\")\r\n      replace(\"/\")\r\n    })()\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onsubmit}>\r\n      <Input fieldName=\"이름\" checker={checkers.name} state={name} />\r\n      <Input fieldName=\"전화번호\" checker={checkers.phone} state={phone} />\r\n      <Input fieldName=\"이메일\" type=\"email\" state={email} />\r\n      <Input\r\n        fieldName=\"스티커 개수\"\r\n        type=\"number\"\r\n        min=\"10\"\r\n        step=\"10\"\r\n        state={amount}\r\n        checker={checkers.amount}\r\n      />\r\n      <p>\r\n        * 120원은 100장 제작 기준이고, 30원은 1000장 제작 기준입니다. (\r\n        <Ordered\r\n          tag=\"span\"\r\n          text={text => `현 기준 ${text.predict}원 예상`}\r\n        ></Ordered>\r\n        )\r\n      </p>\r\n      <Select fieldName=\"학년\" state={grade}>\r\n        {[1, 2, 3].map(i => (\r\n          <option value={i} key={i}>\r\n            {i}\r\n          </option>\r\n        ))}\r\n      </Select>\r\n      <Select fieldName=\"반\" state={schoolClass}>\r\n        {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(i => (\r\n          <option value={i} key={i}>\r\n            {i}\r\n          </option>\r\n        ))}\r\n      </Select>\r\n      <p>선택한 반으로 배달해 드립니다.</p>\r\n      <Button primary reactive right>\r\n        주문하기\r\n      </Button>\r\n    </form>\r\n  )\r\n}\r\nexport default ShopForm\r\n","import React from \"react\"\r\nimport Section from \"../Section\"\r\nimport Title from \"../Section/Title\"\r\nimport ShopForm from \"./ShopForm\"\r\n\r\nimport style from \"./index.module.css\"\r\n\r\nconst Shop = ({ productName, productImage, children }) => {\r\n  return (\r\n    <Section>\r\n      <Title>{productName} 구매하기</Title>\r\n      <div className={style.card}>\r\n        <img src={productImage} alt={productName + \" image\"} />\r\n        <h1>{productName}</h1>\r\n      </div>\r\n      <div style={{ marginTop: 50 }}>{children ? children : <ShopForm />}</div>\r\n    </Section>\r\n  )\r\n}\r\n\r\nexport default Shop\r\n","import React from \"react\"\r\nimport Layout from \"../../../components/layout\"\r\nimport SEO from \"../../../components/seo\"\r\nimport Shop from \"../../../components/Shop\"\r\n\r\nimport angry from \"../../../images/angry.svg\"\r\nexport default function() {\r\n  return (\r\n    <Layout>\r\n      <SEO title=\"화나요 스티커 구매하기\"></SEO>\r\n      <Shop productName=\"화나요 스티커\" productImage={angry} />\r\n    </Layout>\r\n  )\r\n}\r\n"],"sourceRoot":""}