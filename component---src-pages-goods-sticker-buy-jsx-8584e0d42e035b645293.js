(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{251:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(244),l=a(243),u=a(240),i=a(241),m=(a(17),a(2),a(34),a(103)),o=a.n(m),s=(a(116),a(81),a(12),a(13),a(23),a(22),a(280)),f=a.n(s);var d=function(e){var t=e.fieldName,a=e.children;return r.a.createElement("div",{className:f.a.wrap},r.a.createElement("label",null,r.a.createElement("div",{className:f.a.fieldName},t),a))},p=function(e){var t=e.fieldName,a=e.className,c=e.onChange,l=e.state,u=e.checker,i=e.value,m=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["fieldName","className","onChange","state","checker","value"]),o=Object(n.useState)(null),s=o[0],p=o[1],v=function(e){l&&l[1](e.target.value),u&&p(u(e.target.value))};return r.a.createElement(d,{fieldName:t},r.a.createElement("input",Object.assign({value:l?l[0]:i,className:[f.a.input,a].filter(Boolean).join(" "),onChange:function(e){return v(e),c&&c(e)}},m)),s&&s[1]&&r.a.createElement("div",{style:{color:s[0]?"green":"red"}},s[1]))},v=a(247),E=a(281),h=a.n(E),N=function(e){var t=e.fieldName,a=e.children,n=e.state;return r.a.createElement(d,{fieldName:t},r.a.createElement("select",{className:h.a.select,value:n&&n[0],onChange:function(e){n&&n[1](e.target.value)}},a))},g=a(115),b=a(248);function k(e,t,a,n,r,c,l){try{var u=e[c](l),i=u.value}catch(m){return void a(m)}u.done?t(i):Promise.resolve(i).then(n,r)}var j={name:function(e){return e.match(/^([가-힣]{2,4})$/)?[!0]:[!1,"이름은 한글 2~4글자여야 합니다."]},phone:function(e){return e.match(/^[0-9]{11}$/)?[!0]:[!1,"전화번호는 11글자 이상의 숫자여야 합니다. (하이픈 없음)"]},amount:function(e){return e<10?[!1,"10개 이상 주문하셔야 합니다."]:e%10!=0?[!1,"10개 단위로 주문하셔야 합니다."]:[!0,r.a.createElement(r.a.Fragment,null,"예상 금액: ",30*e,"₩ ~ ",120*e,"₩ (현 기준"," ",r.a.createElement(b.a,{tag:"span",text:function(t){return t.predict*e+"₩"}})," )")]}},w=function(){var e=Object(n.useState)(""),t=Object(n.useState)(""),c=Object(n.useState)(""),l=Object(n.useState)(10),u=Object(n.useState)(1),i=Object(n.useState)(1);return r.a.createElement("form",{onSubmit:function(n){function r(e,t){return j[e](t[0])[0]}var m;n.preventDefault(),0===[r("name",e),r("phone",t),r("amount",l)].filter((function(e){return!1===e})).length?(m=o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([a.e(0),a.e(8)]).then(a.bind(null,325));case 2:return r=n.sent,n.next=5,r.orderSticker({name:e[0],phone:t[0],email:c[0],amount:l[0],grade:u[0],schoolClass:i[0]});case 5:alert("주문이 완료되었습니다."),Object(g.b)("/");case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(a,n){var r=m.apply(e,t);function c(e){k(r,a,n,c,l,"next",e)}function l(e){k(r,a,n,c,l,"throw",e)}c(void 0)}))})():alert("폼을 다시 확인해주세요.")}},r.a.createElement(p,{fieldName:"이름",checker:j.name,state:e}),r.a.createElement(p,{fieldName:"전화번호",checker:j.phone,state:t}),r.a.createElement(p,{fieldName:"이메일",type:"email",state:c}),r.a.createElement(p,{fieldName:"스티커 개수",type:"number",min:"10",step:"10",state:l,checker:j.amount}),r.a.createElement("p",null,"* 120원은 100장 제작 기준이고, 30원은 1000장 제작 기준입니다. (",r.a.createElement(b.a,{tag:"span",text:function(e){return"현 기준 "+e.predict+"원 예상"}}),")"),r.a.createElement(N,{fieldName:"학년",state:u},[1,2,3].map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement(N,{fieldName:"반",state:i},[1,2,3,4,5,6,7,8,9,10,11,12].map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("p",null,"선택한 반으로 배달해 드립니다."),r.a.createElement(v.a,{primary:!0,reactive:!0,right:!0},"주문하기"))},O=a(282),y=a.n(O),S=function(e){var t=e.productName,a=e.productImage,n=e.children;return r.a.createElement(u.a,null,r.a.createElement(i.a,null,t," 구매하기"),r.a.createElement("div",{className:y.a.card},r.a.createElement("img",{src:a,alt:t+" image"}),r.a.createElement("h1",null,t)),r.a.createElement("div",{style:{marginTop:50}},n||r.a.createElement(w,null)))},x=a(245),C=a.n(x);t.default=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,{title:"화나요 스티커 구매하기"}),r.a.createElement(S,{productName:"화나요 스티커",productImage:C.a}))}}}]);
//# sourceMappingURL=component---src-pages-goods-sticker-buy-jsx-8584e0d42e035b645293.js.map